var text_string = "korean Korean   pubs Pubs   bars Bars   burgers Burgers   hotdogs Fast Food   sushi Sushi Bars   japanese Japanese   buffets Buffets   hotdog Hot Dogs   burgers Burgers   sushi Sushi Bars   japanese Japanese   italian Italian   pizza Pizza   bbq Barbeque   sportsbars Sports Bars   tradamerican American (Traditional)   sandwiches Sandwiches   hotdogs Fast Food   delis Delis   sandwiches Sandwiches   bookstores Bookstores   fashion Fashion   cafes Cafes   skate_parks Skate Parks   japanese Japanese   thai Thai   sushi Sushi Bars   sandwiches Sandwiches   british British   pubs Pubs   japanese Japanese   sushi Sushi Bars   coffee Coffee & Tea   japanese Japanese   pizza Pizza   cafes Cafes   coffee Coffee & Tea   coffee Coffee & Tea   fooddeliveryservices Food Delivery Services   chinese Chinese   burgers Burgers   hotdogs Fast Food   japanese Japanese   hotdogs Fast Food   chicken_wings Chicken Wings   ethiopian Ethiopian   musicvenues Music Venues   parks Parks   bars Bars   korean Korean   asianfusion Asian Fusion   hotpot Hot Pot   coffee Coffee & Tea   parks Parks   mountainbiking Mountain Biking   mideastern Middle Eastern   pizza Pizza   caribbean Caribbean   desserts Desserts   seafood Seafood   korean Korean   divebars Dive Bars   pizza Pizza   newcanadian Canadian (New)   bakeries Bakeries   coffee Coffee & Tea   pizza Pizza   fishnchips Fish & Chips   bakeries Bakeries   chinese Chinese   coffee Coffee & Tea   bars Bars   greek Greek   newcanadian Canadian (New)   mediterranean Mediterranean   parks Parks   zoos Zoos   playgrounds Playgrounds   diners Diners   breakfast_brunch Breakfast & Brunch   coffee Coffee & Tea   vietnamese Vietnamese   sandwiches Sandwiches   vietnamese Vietnamese   hotdogs Fast Food   sandwiches Sandwiches   vietnamese Vietnamese   thai Thai   dimsum Dim Sum   desserts Desserts   coffee Coffee & Tea   chocolate Chocolatiers & Shops   icecream Ice Cream & Frozen Yogurt   indpak Indian   colombian Colombian   sushi Sushi Bars   japanese Japanese   vegan Vegan   salad Salad   vegetarian Vegetarian   bars Bars   mexican Mexican   desserts Desserts   thai Thai   italian Italian   bakeries Bakeries   pizza Pizza   coffee Coffee & Tea   coffee Coffee & Tea   thai Thai   salad Salad   noodles Noodles   hotdogs Fast Food   comfortfood Comfort Food   scandinavian Scandinavian   sandwiches Sandwiches   modern_european Modern European   japanese Japanese   hotdogs Fast Food   spanish Spanish   bars Bars   indpak Indian   coffee Coffee & Tea   bars Bars   newcanadian Canadian (New)   hotdogs Fast Food   chinese Chinese   chinese Chinese   soup Soup   chinese Chinese   coffee Coffee & Tea   breakfast_brunch Breakfast & Brunch   vegetarian Vegetarian   sushi Sushi Bars   japanese Japanese   cajun Cajun/Creole   seafood Seafood   asianfusion Asian Fusion   chinese Chinese   steak Steakhouses   food_court Food Court   srilankan Sri Lankan   indpak Indian   newcanadian Canadian (New)   chinese Chinese   coffee Coffee & Tea   chinese Chinese   importedfood Imported Food   portuguese Portuguese   taiwanese Taiwanese   japanese Japanese   hotdogs Fast Food   caribbean Caribbean   chinese Chinese   hotpot Hot Pot   filipino Filipino   dimsum Dim Sum   venues Venues & Event Spaces   filipino Filipino   mideastern Middle Eastern   indpak Indian   vegetarian Vegetarian   diners Diners   breakfast_brunch Breakfast & Brunch   tradamerican American (Traditional)   coffee Coffee & Tea   sandwiches Sandwiches   juicebars Juice Bars & Smoothies   coffee Coffee & Tea   breakfast_brunch Breakfast & Brunch   korean Korean   pizza Pizza   chicken_wings Chicken Wings   bars Bars   indpak Indian   pizza Pizza   italian Italian   chicken_wings Chicken Wings   pubs Pubs   musicvenues Music Venues   moroccan Moroccan   restaurants Restaurants   juicebars Juice Bars & Smoothies   sandwiches Sandwiches   ethiopian Ethiopian   indpak Indian   pakistani Pakistani   dog_parks Dog Parks   hotdogs Fast Food   chinese Chinese   fishnchips Fish & Chips   caribbean Caribbean   bbq Barbeque   tradamerican American (Traditional)   breakfast_brunch Breakfast & Brunch   burgers Burgers   pubs Pubs   divebars Dive Bars   ethiopian Ethiopian   coffee Coffee & Tea   donuts Donuts   lounges Lounges   burgers Burgers   french French   pizza Pizza   italian Italian   parks Parks   playgrounds Playgrounds   sandwiches Sandwiches   musicvenues Music Venues   bars Bars   vietnamese Vietnamese   burgers Burgers   salad Salad   juicebars Juice Bars & Smoothies   japanese Japanese   sushi Sushi Bars   cajun Cajun/Creole   chicken_wings Chicken Wings   italian Italian   burgers Burgers   beer_and_wine Beer, Wine & Spirits   tradamerican American (Traditional)   newcanadian Canadian (New)   breakfast_brunch Breakfast & Brunch   sandwiches Sandwiches   italian Italian   soup Soup   breakfast_brunch Breakfast & Brunch   salad Salad   mexican Mexican   desserts Desserts   cafes Cafes   creperies Creperies   coffee Coffee & Tea   pizza Pizza   italian Italian   wine_bars Wine Bars   coffee Coffee & Tea   bars Bars   cafes Cafes   bakeries Bakeries   sandwiches Sandwiches   coffee Coffee & Tea   thai Thai   sushi Sushi Bars   japanese Japanese   korean Korean   sushi Sushi Bars   korean Korean   juicebars Juice Bars & Smoothies   raw_food Live/Raw Food   healthmarkets Health Markets   chinese Chinese   greek Greek   mediterranean Mediterranean   seafood Seafood   bars Bars   newcanadian Canadian (New)   cafes Cafes   burgers Burgers   hotdogs Fast Food   hotdogs Fast Food   burgers Burgers   chicken_wings Chicken Wings   hotdogs Fast Food   newcanadian Canadian (New)   sportsbars Sports Bars   lounges Lounges   asianfusion Asian Fusion   bars Bars   newcanadian Canadian (New)   newcanadian Canadian (New)   cocktailbars Cocktail Bars   desserts Desserts   creperies Creperies   sandwiches Sandwiches   hotdogs Fast Food   hotdogs Fast Food   burgers Burgers   sandwiches Sandwiches   breakfast_brunch Breakfast & Brunch   greek Greek   greek Greek   delis Delis   breakfast_brunch Breakfast & Brunch   bagels Bagels   ramen Ramen   pizza Pizza   coffee Coffee & Tea   irish_pubs Irish Pub   hotdogs Fast Food   burgers Burgers   sushi Sushi Bars   coffee Coffee & Tea   breakfast_brunch Breakfast & Brunch   sandwiches Sandwiches   bbq Barbeque   bars Bars   newcanadian Canadian (New)   venues Venues & Event Spaces   vegetarian Vegetarian   sandwiches Sandwiches   hotdogs Fast Food   mediterranean Mediterranean   mideastern Middle Eastern   breakfast_brunch Breakfast & Brunch   bakeries Bakeries   comfortfood Comfort Food   mediterranean Mediterranean   venues Venues & Event Spaces   lounges Lounges   fishnchips Fish & Chips   japanese Japanese   salad Salad   seafood Seafood   thai Thai   cambodian Cambodian   bars Bars   breakfast_brunch Breakfast & Brunch   mexican Mexican   tradamerican American (Traditional)   sushi Sushi Bars   italian Italian   thai Thai   noodles Noodles   coffee Coffee & Tea   breakfast_brunch Breakfast & Brunch   sandwiches Sandwiches   coffee Coffee & Tea   breakfast_brunch Breakfast & Brunch   breakfast_brunch Breakfast & Brunch   comfortfood Comfort Food   gastropubs Gastropubs   italian Italian   steak Steakhouses   tradamerican American (Traditional)   lounges Lounges   mediterranean Mediterranean   tapas Tapas Bars   ramen Ramen   italian Italian   coffee Coffee & Tea   chinese Chinese   chinese Chinese   vietnamese Vietnamese   russian Russian   bakeries Bakeries   cafes Cafes   caribbean Caribbean   dimsum Dim Sum   tradamerican American (Traditional)   diners Diners   breakfast_brunch Breakfast & Brunch   karaoke Karaoke   lounges Lounges   coffee Coffee & Tea   japanese Japanese   japanese Japanese   sushi Sushi Bars   italian Italian   bars Bars   chinese Chinese   vietnamese Vietnamese   korean Korean   bbq Barbeque   thai Thai   malaysian Malaysian   caribbean Caribbean   salad Salad   cafes Cafes   sandwiches Sandwiches   desserts Desserts   bubbletea Bubble Tea   chinese Chinese   chinese Chinese   tradamerican American (Traditional)   pubs Pubs   yelpevents Yelp Events   chinese Chinese   pizza Pizza   italian Italian   sandwiches Sandwiches   seafood Seafood   vietnamese Vietnamese   asianfusion Asian Fusion   pizza Pizza   salad Salad   chicken_wings Chicken Wings   pizza Pizza   italian Italian   coffee Coffee & Tea   japanese Japanese   seafood Seafood   fishnchips Fish & Chips   mediterranean Mediterranean   sushi Sushi Bars   parks Parks   vegetarian Vegetarian   vegan Vegan   indpak Indian   thai Thai   chinese Chinese   bakeries Bakeries   coffee Coffee & Tea   mideastern Middle Eastern   mexican Mexican   foodtrucks Food Trucks   skatingrinks Skating Rinks   skate_parks Skate Parks   spanish Spanish   latin Latin American   bars Bars   tex-mex Tex-Mex   steak Steakhouses   burgers Burgers   chinese Chinese   asianfusion Asian Fusion   caribbean Caribbean   mediterranean Mediterranean   halal Halal   sandwiches Sandwiches   juicebars Juice Bars & Smoothies   breakfast_brunch Breakfast & Brunch   cafes Cafes   waffles Waffles   korean Korean   caribbean Caribbean   chinese Chinese   korean Korean   japanese Japanese   danceclubs Dance Clubs   bars Bars   venues Venues & Event Spaces   desserts Desserts   japanese Japanese   taiwanese Taiwanese   peruvian Peruvian   newcanadian Canadian (New)   vegetarian Vegetarian   mexican Mexican   sandwiches Sandwiches   vegan Vegan   vegetarian Vegetarian   chinese Chinese   gardens Botanical Gardens   parks Parks   wine_bars Wine Bars   modern_european Modern European   breakfast_brunch Breakfast & Brunch   indpak Indian   coffee Coffee & Tea   korean Korean   airportlounges Airport Lounges   coffee Coffee & Tea   desserts Desserts   cafes Cafes   coffee Coffee & Tea   newcanadian Canadian (New)   sportsbars Sports Bars   burgers Burgers   danceclubs Dance Clubs   bars Bars   japanese Japanese   sushi Sushi Bars   coffee Coffee & Tea   mexican Mexican   sportsbars Sports Bars   newcanadian Canadian (New)   mexican Mexican   irish Irish   pubs Pubs   coffee Coffee & Tea   bakeries Bakeries   coffee Coffee & Tea   donuts Donuts   thai Thai   newcanadian Canadian (New)   cocktailbars Cocktail Bars   parks Parks   seafood Seafood   mediterranean Mediterranean   mideastern Middle Eastern   salad Salad   pizza Pizza   coffee Coffee & Tea   dog_parks Dog Parks   coffee Coffee & Tea   delis Delis   breakfast_brunch Breakfast & Brunch   sandwiches Sandwiches   coffee Coffee & Tea   cafes Cafes   japanese Japanese   buffets Buffets   importedfood Imported Food   thai Thai   sportsbars Sports Bars   burgers Burgers   chicken_wings Chicken Wings   pubs Pubs   tradamerican American (Traditional)   sportsbars Sports Bars   bars Bars   newcanadian Canadian (New)   bars Bars   delis Delis   sandwiches Sandwiches   salad Salad   coffee Coffee & Tea   sandwiches Sandwiches   coffee Coffee & Tea   korean Korean   musicvenues Music Venues   sportsbars Sports Bars   comfortfood Comfort Food   tradamerican American (Traditional)   hotdogs Fast Food   burgers Burgers   coffee Coffee & Tea   hotdogs Fast Food   juicebars Juice Bars & Smoothies   healthmarkets Health Markets   gluten_free Gluten-Free   vegetarian Vegetarian   pubs Pubs   food_court Food Court   mexican Mexican   buffets Buffets   delis Delis   thai Thai   salad Salad   soup Soup   sandwiches Sandwiches   sandwiches Sandwiches   hotdogs Fast Food   sportsbars Sports Bars   musicvenues Music Venues   danceclubs Dance Clubs   thai Thai   coffee Coffee & Tea   coffee Coffee & Tea   bakeries Bakeries   sushi Sushi Bars   parks Parks   chinese Chinese   sandwiches Sandwiches   hotdogs Fast Food   newcanadian Canadian (New)   breakfast_brunch Breakfast & Brunch   cafes Cafes   pizza Pizza   sandwiches Sandwiches   italian Italian   buffets Buffets   pizza Pizza   italian Italian   chicken_wings Chicken Wings   chinese Chinese   seafood Seafood   donuts Donuts   coffee Coffee & Tea   hotdogs Fast Food   mexican Mexican   coffee Coffee & Tea   bakeries Bakeries   icecream Ice Cream & Frozen Yogurt   gastropubs Gastropubs   newcanadian Canadian (New)   wine_bars Wine Bars   breakfast_brunch Breakfast & Brunch   danceclubs Dance Clubs   lounges Lounges   lounges Lounges   newcanadian Canadian (New)   diners Diners   french French   coffee Coffee & Tea   bakeries Bakeries   tapas Tapas Bars   newcanadian Canadian (New)   coffee Coffee & Tea   bars Bars   korean Korean   coffee Coffee & Tea   wine_bars Wine Bars   chinese Chinese   food_court Food Court   modern_european Modern European   bars Bars   newcanadian Canadian (New)   thai Thai   coffee Coffee & Tea   breakfast_brunch Breakfast & Brunch   sandwiches Sandwiches   salad Salad   hotdogs Fast Food   food_court Food Court   pizza Pizza   parks Parks   gourmet Specialty Food   hotdogs Fast Food   coffee Coffee & Tea   breakfast_brunch Breakfast & Brunch   hotdogs Fast Food   burgers Burgers   mediterranean Mediterranean   caribbean Caribbean   coffee Coffee & Tea   indpak Indian   african African   mideastern Middle Eastern   coffee Coffee & Tea   divebars Dive Bars   coffee Coffee & Tea   pizza Pizza   lounges Lounges   korean Korean   cajun Cajun/Creole   newcanadian Canadian (New)   coffee Coffee & Tea   icecream Ice Cream & Frozen Yogurt   mexican Mexican   pizza Pizza   italian Italian   korean Korean   coffee Coffee & Tea   breakfast_brunch Breakfast & Brunch   italian Italian   pizza Pizza   cheese Cheese Shops   italian Italian   grocery Grocery   korean Korean   sushi Sushi Bars   japanese Japanese   vietnamese Vietnamese   italian Italian   mediterranean Mediterranean   bakeries Bakeries   restaurants Restaurants   cocktailbars Cocktail Bars   portuguese Portuguese   brazilian Brazilian   steak Steakhouses   creperies Creperies   breakfast_brunch Breakfast & Brunch   coffee Coffee & Tea   coffee Coffee & Tea   bakeries Bakeries   coffee Coffee & Tea   cafes Cafes   chinese Chinese   thai Thai   vietnamese Vietnamese   thai Thai   sushi Sushi Bars   german German   delis Delis   mexican Mexican   thai Thai   sushi Sushi Bars   japanese Japanese   lebanese Lebanese   pubs Pubs   breakfast_brunch Breakfast & Brunch   breakfast_brunch Breakfast & Brunch   coffee Coffee & Tea   bakeries Bakeries   indpak Indian   japanese Japanese   sushi Sushi Bars   delis Delis   sandwiches Sandwiches   burgers Burgers   ";
drawWordCloud(text_string);

function drawWordCloud(text_string){
    var common = "poop,i,me,my,myself,we,us,our,ours,ourselves,you,your,yours,yourself,yourselves,he,him,his,himself,she,her,hers,herself,it,its,itself,they,them,their,theirs,themselves,what,which,who,whom,whose,this,that,these,those,am,is,are,was,were,be,been,being,have,has,had,having,do,does,did,doing,will,would,should,can,could,ought,i'm,you're,he's,she's,it's,we're,they're,i've,you've,we've,they've,i'd,you'd,he'd,she'd,we'd,they'd,i'll,you'll,he'll,she'll,we'll,they'll,isn't,aren't,wasn't,weren't,hasn't,haven't,hadn't,doesn't,don't,didn't,won't,wouldn't,shan't,shouldn't,can't,cannot,couldn't,mustn't,let's,that's,who's,what's,here's,there's,when's,where's,why's,how's,a,an,the,and,but,if,or,because,as,until,while,of,at,by,for,with,about,against,between,into,through,during,before,after,above,below,to,from,up,upon,down,in,out,on,off,over,under,again,further,then,once,here,there,when,where,why,how,all,any,both,each,few,more,most,other,some,such,no,nor,not,only,own,same,so,than,too,very,say,says,said,shall";

    var word_count = {};

    var words = text_string.split(/[ '\-\(\)\*":;\[\]|{},.!?]+/);
    if (words.length == 1){
        word_count[words[0]] = 1;
    } else {
        words.forEach(function(word){
            var word = word.toLowerCase();
            if (word != "" && common.indexOf(word)==-1 && word.length>1){
                if (word_count[word]){
                    word_count[word]++;
                } else {
                    word_count[word] = 1;
                }
            }
        })
    }

    var svg_location = "#chart";
    var width = $(document).width();
    var height = $(document).height();

    var fill = d3.scale.category20();

    var word_entries = d3.entries(word_count);

    var xScale = d3.scale.linear()
        .domain([0, d3.max(word_entries, function(d) {
            return d.value;
        })
        ])
        .range([10,100]);

    d3.layout.cloud().size([width, height])
        .timeInterval(20)
        .words(word_entries)
        .fontSize(function(d) { return xScale(+d.value); })
        .text(function(d) { return d.key; })
        .rotate(function() { return ~~(Math.random() * 2) * 90; })
        .font("Impact")
        .on("end", draw)
        .start();

    function draw(words) {
        d3.select(svg_location).append("svg")
            .attr("width", width)
            .attr("height", height)
            .append("g")
            .attr("transform", "translate(" + [width >> 1, height >> 1] + ")")
            .selectAll("text")
            .data(words)
            .enter().append("text")
            .style("font-size", function(d) { return xScale(d.value) + "px"; })
            .style("font-family", "Impact")
            .style("fill", function(d, i) { return fill(i); })
            .attr("text-anchor", "middle")
            .attr("transform", function(d) {
                return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
            })
            .text(function(d) { return d.key; });
    }

    d3.layout.cloud().stop();
}